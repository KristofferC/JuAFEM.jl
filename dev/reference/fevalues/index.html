<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>FEValues · JuAFEM.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JuAFEM.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><a class="toctext" href="../../manual/fe_intro/">Introduction to FEM</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../manual/cell_integration/">Cell Integration</a></li><li><a class="toctext" href="../../manual/degrees_of_freedom/">Degrees of Freedom</a></li><li><a class="toctext" href="../../manual/assembly/">Assembly</a></li><li><a class="toctext" href="../../manual/boundary_conditions/">Boundary Conditions</a></li><li><a class="toctext" href="../../manual/grid/">Grid</a></li><li><a class="toctext" href="../../manual/export/">Export</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../examples/generated/heat_equation/">Heat Equation</a></li><li><a class="toctext" href="../../examples/generated/incompressible_elasticity/">Incompressible Elasticity</a></li><li><a class="toctext" href="../../examples/generated/threaded_assembly/">Threaded Assembly</a></li><li><a class="toctext" href="../../examples/generated/plasticity/">von Mises plasticity</a></li></ul></li><li><span class="toctext">API Reference</span><ul><li><a class="toctext" href="../quadrature/">Quadrature</a></li><li><a class="toctext" href="../interpolations/">Interpolation</a></li><li class="current"><a class="toctext" href>FEValues</a><ul class="internal"><li><a class="toctext" href="#reference-cellvalues-1">CellValues</a></li><li><a class="toctext" href="#reference-facevalues-1">FaceValues</a></li></ul></li><li><a class="toctext" href="../dofhandler/">DofHandler</a></li><li><a class="toctext" href="../assembly/">Assembly</a></li><li><a class="toctext" href="../boundary_conditions/">Boundary Conditions</a></li><li><a class="toctext" href="../grid/">Grid</a></li><li><a class="toctext" href="../export/">Export</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>API Reference</li><li><a href>FEValues</a></li></ul><a class="edit-page" href="https://github.com/KristofferC/JuAFEM.jl/blob/master/docs/src/reference/fevalues.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>FEValues</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="FEValues-1" href="#FEValues-1">FEValues</a></h1><h2><a class="nav-anchor" id="reference-cellvalues-1" href="#reference-cellvalues-1">CellValues</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.CellValues" href="#JuAFEM.CellValues"><code>JuAFEM.CellValues</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">CellScalarValues([::Type{T}], quad_rule::QuadratureRule, func_interpol::Interpolation, [geom_interpol::Interpolation])
CellVectorValues([::Type{T}], quad_rule::QuadratureRule, func_interpol::Interpolation, [geom_interpol::Interpolation])</code></pre><p>A <code>CellValues</code> object facilitates the process of evaluating values of shape functions, gradients of shape functions, values of nodal functions, gradients and divergences of nodal functions etc. in the finite element cell. There are two different types of <code>CellValues</code>: <code>CellScalarValues</code> and <code>CellVectorValues</code>. As the names suggest, <code>CellScalarValues</code> utilizes scalar shape functions and <code>CellVectorValues</code> utilizes vectorial shape functions. For a scalar field, the <code>CellScalarValues</code> type should be used. For vector field, both subtypes can be used.</p><p><strong>Arguments:</strong></p><ul><li><code>T</code>: an optional argument (default to <code>Float64</code>) to determine the type the internal data is stored as.</li><li><code>quad_rule</code>: an instance of a <a href="../quadrature/#JuAFEM.QuadratureRule"><code>QuadratureRule</code></a></li><li><code>func_interpol</code>: an instance of an <a href="../interpolations/#JuAFEM.Interpolation"><code>Interpolation</code></a> used to interpolate the approximated function</li><li><code>geom_interpol</code>: an optional instance of a <a href="../interpolations/#JuAFEM.Interpolation"><code>Interpolation</code></a> which is used to interpolate the geometry</li></ul><p><strong>Common methods:</strong></p><ul><li><p><a href="#JuAFEM.reinit!"><code>reinit!</code></a></p></li><li><p><a href="#JuAFEM.getnquadpoints"><code>getnquadpoints</code></a></p></li><li><p><a href="#JuAFEM.getdetJdV"><code>getdetJdV</code></a></p></li><li><p><a href="#JuAFEM.shape_value"><code>shape_value</code></a></p></li><li><p><a href="#JuAFEM.shape_gradient"><code>shape_gradient</code></a></p></li><li><p><a href="#JuAFEM.shape_symmetric_gradient"><code>shape_symmetric_gradient</code></a></p></li><li><p><a href="#JuAFEM.shape_divergence"><code>shape_divergence</code></a></p></li><li><p><a href="#JuAFEM.function_value"><code>function_value</code></a></p></li><li><p><a href="#JuAFEM.function_gradient"><code>function_gradient</code></a></p></li><li><p><a href="#JuAFEM.function_symmetric_gradient"><code>function_symmetric_gradient</code></a></p></li><li><p><a href="#JuAFEM.function_divergence"><code>function_divergence</code></a></p></li><li><p><a href="#JuAFEM.spatial_coordinate"><code>spatial_coordinate</code></a></p></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/cell_values.jl#L2-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.reinit!" href="#JuAFEM.reinit!"><code>JuAFEM.reinit!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">reinit!(cv::CellValues, x::Vector)
reinit!(bv::FaceValues, x::Vector, face::Int)</code></pre><p>Update the <code>CellValues</code>/<code>FaceValues</code> object for a cell or face with coordinates <code>x</code>. The derivatives of the shape functions, and the new integration weights are computed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L12-L18">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.getnquadpoints" href="#JuAFEM.getnquadpoints"><code>JuAFEM.getnquadpoints</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getnquadpoints(fe_v::Values)</code></pre><p>Return the number of quadrature points for the <code>Values</code> object.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L21-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.getdetJdV" href="#JuAFEM.getdetJdV"><code>JuAFEM.getdetJdV</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getdetJdV(fe_v::Values, q_point::Int)</code></pre><p>Return the product between the determinant of the Jacobian and the quadrature point weight for the given quadrature point: <span>$\det(J(\mathbf{x})) w_q$</span></p><p>This value is typically used when one integrates a function on a finite element cell or face as</p><p><span>$\int\limits_\Omega f(\mathbf{x}) d \Omega \approx \sum\limits_{q = 1}^{n_q} f(\mathbf{x}_q) \det(J(\mathbf{x})) w_q$</span> <span>$\int\limits_\Gamma f(\mathbf{x}) d \Gamma \approx \sum\limits_{q = 1}^{n_q} f(\mathbf{x}_q) \det(J(\mathbf{x})) w_q$</span></p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L28-L40">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.shape_value" href="#JuAFEM.shape_value"><code>JuAFEM.shape_value</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">shape_value(fe_v::Values, q_point::Int, base_function::Int)</code></pre><p>Return the value of shape function <code>base_function</code> evaluated in quadrature point <code>q_point</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L44-L49">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.shape_gradient" href="#JuAFEM.shape_gradient"><code>JuAFEM.shape_gradient</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">shape_gradient(fe_v::Values, q_point::Int, base_function::Int)</code></pre><p>Return the gradient of shape function <code>base_function</code> evaluated in quadrature point <code>q_point</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L56-L61">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.shape_symmetric_gradient" href="#JuAFEM.shape_symmetric_gradient"><code>JuAFEM.shape_symmetric_gradient</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">shape_symmetric_gradient(fe_v::Values, q_point::Int, base_function::Int)</code></pre><p>Return the symmetric gradient of shape function <code>base_function</code> evaluated in quadrature point <code>q_point</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L65-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.shape_divergence" href="#JuAFEM.shape_divergence"><code>JuAFEM.shape_divergence</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">shape_divergence(fe_v::Values, q_point::Int, base_function::Int)</code></pre><p>Return the divergence of shape function <code>base_function</code> evaluated in quadrature point <code>q_point</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L74-L79">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.function_value" href="#JuAFEM.function_value"><code>JuAFEM.function_value</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">function_value(fe_v::Values, q_point::Int, u::AbstractVector)</code></pre><p>Compute the value of the function in a quadrature point. <code>u</code> is a vector with values for the degrees of freedom. For a scalar valued function, <code>u</code> contains scalars. For a vector valued function, <code>u</code> can be a vector of scalars (for use of <code>VectorValues</code>) or <code>u</code> can be a vector of <code>Vec</code>s (for use with ScalarValues).</p><p>The value of a scalar valued function is computed as <span>$u(\mathbf{x}) = \sum\limits_{i = 1}^n N_i (\mathbf{x}) u_i$</span> where <span>$u_i$</span> are the value of <span>$u$</span> in the nodes. For a vector valued function the value is calculated as <span>$\mathbf{u}(\mathbf{x}) = \sum\limits_{i = 1}^n N_i (\mathbf{x}) \mathbf{u}_i$</span> where <span>$\mathbf{u}_i$</span> are the nodal values of <span>$\mathbf{u}$</span>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L91-L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.function_gradient" href="#JuAFEM.function_gradient"><code>JuAFEM.function_gradient</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">function_scalar_gradient(fe_v::Values{dim}, q_point::Int, u::AbstractVector)</code></pre><p>Compute the gradient of the function in a quadrature point. <code>u</code> is a vector with values for the degrees of freedom. For a scalar valued function, <code>u</code> contains scalars. For a vector valued function, <code>u</code> can be a vector of scalars (for use of <code>VectorValues</code>) or <code>u</code> can be a vector of <code>Vec</code>s (for use with ScalarValues).</p><p>The gradient of a scalar function is computed as <span>$\mathbf{\nabla} u(\mathbf{x}) = \sum\limits_{i = 1}^n \mathbf{\nabla} N_i (\mathbf{x}) u_i$</span> where <span>$u_i$</span> are the nodal values of the function. For a vector valued function the gradient is computed as <span>$\mathbf{\nabla} \mathbf{u}(\mathbf{x}) = \sum\limits_{i = 1}^n \mathbf{\nabla} N_i (\mathbf{x}) \otimes \mathbf{u}_i$</span> where <span>$\mathbf{u}_i$</span> are the nodal values of <span>$\mathbf{u}$</span>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L135-L149">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.function_symmetric_gradient" href="#JuAFEM.function_symmetric_gradient"><code>JuAFEM.function_symmetric_gradient</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">function_symmetric_gradient(fe_v::Values, q_point::Int, u::AbstractVector)</code></pre><p>Compute the symmetric gradient of the function, see <a href="#JuAFEM.function_gradient"><code>function_gradient</code></a>. Return a <code>SymmetricTensor</code>.</p><p>The symmetric gradient of a scalar function is computed as <span>$\left[ \mathbf{\nabla}  \mathbf{u}(\mathbf{x_q}) \right]^\text{sym} =  \sum\limits_{i = 1}^n  \frac{1}{2} \left[ \mathbf{\nabla} N_i (\mathbf{x}_q) \otimes \mathbf{u}_i + \mathbf{u}_i  \otimes  \mathbf{\nabla} N_i (\mathbf{x}_q) \right]$</span> where <span>$\mathbf{u}_i$</span> are the nodal values of the function.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L192-L201">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.function_divergence" href="#JuAFEM.function_divergence"><code>JuAFEM.function_divergence</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">function_divergence(fe_v::Values, q_point::Int, u::AbstractVector)</code></pre><p>Compute the divergence of the vector valued function in a quadrature point.</p><p>The divergence of a vector valued functions in the quadrature point <span>$\mathbf{x}_q)$</span> is computed as <span>$\mathbf{\nabla} \cdot \mathbf{u}(\mathbf{x_q}) = \sum\limits_{i = 1}^n \mathbf{\nabla} N_i (\mathbf{x_q}) \cdot \mathbf{u}_i$</span> where <span>$\mathbf{u}_i$</span> are the nodal values of the function.</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L212-L220">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.spatial_coordinate" href="#JuAFEM.spatial_coordinate"><code>JuAFEM.spatial_coordinate</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">spatial_coordinate(fe_v::Values{dim}, q_point::Int, x::AbstractVector)</code></pre><p>Compute the spatial coordinate in a quadrature point. <code>x</code> contains the nodal coordinates of the cell.</p><p>The coordinate is computed, using the geometric interpolation, as <span>$\mathbf{x} = \sum\limits_{i = 1}^n M_i (\mathbf{x}) \mathbf{\hat{x}}_i$</span></p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/common_values.jl#L270-L278">source</a></section><h2><a class="nav-anchor" id="reference-facevalues-1" href="#reference-facevalues-1">FaceValues</a></h2><p>All of the methods for <a href="#JuAFEM.CellValues"><code>CellValues</code></a> apply for <code>FaceValues</code> as well. In addition, there are some methods that are unique for <code>FaecValues</code>:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.FaceValues" href="#JuAFEM.FaceValues"><code>JuAFEM.FaceValues</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">FaceScalarValues([::Type{T}], quad_rule::QuadratureRule, func_interpol::Interpolation, [geom_interpol::Interpolation])
FaceVectorValues([::Type{T}], quad_rule::QuadratureRule, func_interpol::Interpolation, [geom_interpol::Interpolation])</code></pre><p>A <code>FaceValues</code> object facilitates the process of evaluating values of shape functions, gradients of shape functions, values of nodal functions, gradients and divergences of nodal functions etc. on the faces of finite elements. There are two different types of <code>FaceValues</code>: <code>FaceScalarValues</code> and <code>FaceVectorValues</code>. As the names suggest, <code>FaceScalarValues</code> utilizes scalar shape functions and <code>FaceVectorValues</code> utilizes vectorial shape functions. For a scalar field, the <code>FaceScalarValues</code> type should be used. For vector field, both subtypes can be used.</p><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The quadrature rule for the face should be given with one dimension lower. I.e. for a 3D case, the quadrature rule should be in 2D.</p></div></div><p><strong>Arguments:</strong></p><ul><li><code>T</code>: an optional argument to determine the type the internal data is stored as.</li><li><code>quad_rule</code>: an instance of a <a href="../quadrature/#JuAFEM.QuadratureRule"><code>QuadratureRule</code></a></li><li><code>func_interpol</code>: an instance of an <a href="../interpolations/#JuAFEM.Interpolation"><code>Interpolation</code></a> used to interpolate the approximated function</li><li><code>geom_interpol</code>: an optional instance of an <a href="../interpolations/#JuAFEM.Interpolation"><code>Interpolation</code></a> which is used to interpolate the geometry</li></ul><p><strong>Common methods:</strong></p><ul><li><p><a href="#JuAFEM.reinit!"><code>reinit!</code></a></p></li><li><p><a href="#JuAFEM.getnquadpoints"><code>getnquadpoints</code></a></p></li><li><p><a href="#JuAFEM.getdetJdV"><code>getdetJdV</code></a></p></li><li><p><a href="#JuAFEM.shape_value"><code>shape_value</code></a></p></li><li><p><a href="#JuAFEM.shape_gradient"><code>shape_gradient</code></a></p></li><li><p><a href="#JuAFEM.shape_symmetric_gradient"><code>shape_symmetric_gradient</code></a></p></li><li><p><a href="#JuAFEM.shape_divergence"><code>shape_divergence</code></a></p></li><li><p><a href="#JuAFEM.function_value"><code>function_value</code></a></p></li><li><p><a href="#JuAFEM.function_gradient"><code>function_gradient</code></a></p></li><li><p><a href="#JuAFEM.function_symmetric_gradient"><code>function_symmetric_gradient</code></a></p></li><li><p><a href="#JuAFEM.function_divergence"><code>function_divergence</code></a></p></li><li><p><a href="#JuAFEM.spatial_coordinate"><code>spatial_coordinate</code></a></p></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/face_values.jl#L2-L39">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JuAFEM.getcurrentface" href="#JuAFEM.getcurrentface"><code>JuAFEM.getcurrentface</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getcurrentface(fv::FaceValues)</code></pre><p>Return the current active face of the <code>FaceValues</code> object (from last <code>reinit!</code>).</p></div></div><a class="source-link" target="_blank" href="https://github.com/KristofferC/JuAFEM.jl/blob/651d0e6e3044634b32128b4b586d0406cca5757a/src/FEValues/face_values.jl#L195-L200">source</a></section><footer><hr/><a class="previous" href="../interpolations/"><span class="direction">Previous</span><span class="title">Interpolation</span></a><a class="next" href="../dofhandler/"><span class="direction">Next</span><span class="title">DofHandler</span></a></footer></article></body></html>
